<!DOCTYPE html>
<html>
<head>

  <link rel="stylesheet" href="styles.css">

  <title>Bathroom Finder</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }


  </style>

</head>
<body>

<div id="wrapper">

<div id="map"></div>

<div id="submit_form">
  <form action="connect.php" method="post">
      City : <input type="text" name="Location_City"><br><br>
      State: <input type="text" name="Location_State"><br><br>
      Name : <input type="text" name="Location_Name"><br><br>
      Pay : <input type="text" name="Location_Pay"><br><br>
      latitude : <input type="text" name="Location_Latitude"><br><br>
      Longitude : <input type="text" name="Location_Longitude"><br><br>
      Rating : <input type="text" name="Location_Rating"><br><br>
      Description : <input type="text" name="Location_Descritiop"><br><br>
      <input type="submit" value="Submit New Location">
  </form>
</div>
</div>




<script>
  var map, infoWindow;
  function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    center: {lat: -34.397, lng: 150.644},
    zoom: 16
  });
  infoWindow = new google.maps.InfoWindow;
  if(navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position){
      var pos = {
        lat: position.coords.latitude,
        lng: position.coords.longitude
      };
      infoWindow.setPosition(pos);
      infoWindow.setContent('Location Found.');
      infoWindow.open(map);
      map.setCenter(pos);
      var marker = new google.maps.Marker({
        position: pos,
        map: map
      });
      marker.setMap(map);
    }, function(){
      handleLocationError(true, infoWindow, map.getCenter());
    });
  } else {
    handleLocationError(false, infoWindow, map.getCenter());
  }
}
  function handleLocationError(browserHasGeolocation, infoWindow, pos) {
    infoWindow.setPosition(pos);
    infoWindow.setContent(browserHasGeolocation ?
      'Error, the geolocation service has failed' : 'Your browser does not support geolocation');
    infoWindow.open(map);
  }
</script>

<script>
var map;
function whereAmI() {
  var locationName = document.getElementById("textbox1").value;
  var geocoder = new google.maps.Geocoder();
  map = new google.maps.Map(document.getElementById('map'), {
    center: {lat: 0, lng: 0},
    zoom: 8
  });
  geocoder.geocode({'address': locationName}, function(results, status) {
    if (status === 'OK') {
      map.setCenter(results[0].geometry.location);
      var marker = new google.maps.Marker({
        position: results[0].geometry.location,
        map: map
      });
    } else {
      alert('Geocode was not successful for the following reason: ' + status);
    }
  });
}
</script>


<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC5KLkxN6PS2oQmYYC_y7Svxhuv8oIkA4o
&callback=initMap" type="text/javascript"></script>

</body>
</html>
